<div class="modal-header">
  <h2 class="title title pull-left">Submit New Airdrop</h2>
  <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
    <svg class="icon close" viewBox="0 0 17.536 17.536">
      <g id="Plus" transform="translate(-805.387 112.314)">
        <g id="Group_73" data-name="Group 73" transform="translate(816.7 -112.314) rotate(45)">
          <path id="Path_88" data-name="Path 88" class="cls-1"
                d="M815.9-108.2v6.4h-6.4a.792.792,0,0,0-.8.8h0a.792.792,0,0,0,.8.8h6.4v6.4a.792.792,0,0,0,.8.8h0a.792.792,0,0,0,.8-.8v-14.4a.792.792,0,0,0-.8-.8h0A.792.792,0,0,0,815.9-108.2Z"
                transform="translate(-808.7 109)"/>
          <path id="Path_89" data-name="Path 89" class="cls-1"
                d="M844.98-84.9H840.5a.792.792,0,0,1-.8-.8h0a.792.792,0,0,1,.8-.8h4.48a.792.792,0,0,1,.8.8h0A.813.813,0,0,1,844.98-84.9Z"
                transform="translate(-829.78 93.7)"/>
        </g>
      </g>
    </svg>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="formAddAirdrop">
    <div class="modal-body-item modal-body_header">
      <div class="form-group row">
        <div class="col-md-6 upload-token-name">
          <div class="uploadedImageContainer"
               [ngClass]="{'is-invalid': formAddAirdrop.get('image').invalid && formInvalidaAfterSubmit}">
              <svg class="icon" viewBox="0 0 22.79 22.373">
                <path id="Union_11" data-name="Union 11" class="cls-1" d="M-2915.02,58.373a2.7,2.7,0,0,1-2.713-2.713V44.334a2.7,2.7,0,0,1,2.713-2.714h11.326a2.724,2.724,0,0,1,2.714,2.714V55.66a2.7,2.7,0,0,1-2.714,2.713Zm-1.039-4.959V55.66a1.044,1.044,0,0,0,1.039,1.039h11.326a1.039,1.039,0,0,0,.8-.381l-8.778-5.276Zm8.326-1.959,5.077,3.052V51.654l-2.638-1.607Zm-8.326-7.121V51.51l4.014-2.17a.8.8,0,0,1,.08-.037.836.836,0,0,1,.74.052l1.857,1.117a.9.9,0,0,1,.113-.072l3.577-2.066c.026-.013.052-.026.079-.037a.836.836,0,0,1,.74.052l2.2,1.343V44.334a1.044,1.044,0,0,0-1.039-1.039h-11.326A1.044,1.044,0,0,0-2916.059,44.334Zm2.345,1.649a1.013,1.013,0,0,1,1.013-1.012,1.013,1.013,0,0,1,1.012,1.012A1.013,1.013,0,0,1-2912.7,47,1.013,1.013,0,0,1-2913.713,45.983Zm14.246-3.611V40.442h-1.969a.829.829,0,0,1-.837-.837.829.829,0,0,1,.837-.838h1.969V36.838a.829.829,0,0,1,.837-.838.829.829,0,0,1,.838.838v1.929h2.011a.829.829,0,0,1,.838.838.851.851,0,0,1-.838.837h-2.011v1.931a.829.829,0,0,1-.838.837A.829.829,0,0,1-2899.467,42.372Z" transform="translate(2917.733 -36)"/>
              </svg>
              <img *ngIf="imageReader" [src]="imageReader" class="uploadedImage">
              <input type="file" id="image" (change)="onFileChange($event)">
            </div>
          <div class="token-wrapper">
            <div class="title">
              <label for="tokenName">Token Name</label>
              <div class="invalid-feedback"
                   *ngIf="formAddAirdrop.get('tokenName').invalid && formAddAirdrop.get('tokenName').touched &&
                   formAddAirdrop.get('tokenName')['errors']['required'] || formAddAirdrop.get('tokenName').invalid && formInvalidaAfterSubmit">
                Required</div>
            </div>
            <input type="text" class="form-control" id="tokenName" formControlName="tokenName"
                 [ngClass]="{'is-invalid': formAddAirdrop.get('tokenName').invalid && formAddAirdrop.get('tokenName').touched || formAddAirdrop.get('tokenName').invalid && formInvalidaAfterSubmit}">
          </div>
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="projectName">Token ticker symbol</label>
            <div class="invalid-feedback"
                 *ngIf="formAddAirdrop.get('projectName').invalid && formAddAirdrop.get('projectName').touched &&
                 formAddAirdrop.get('projectName')['errors']['required'] || formAddAirdrop.get('projectName').invalid && formInvalidaAfterSubmit">
              Required</div>
          </div>
          <input type="text" class="form-control" id="projectName" formControlName="projectName"
                 [ngClass]="{'is-invalid': formAddAirdrop.get('projectName').invalid && formAddAirdrop.get('projectName').touched || formAddAirdrop.get('projectName').invalid && formInvalidaAfterSubmit}">
        </div>
      </div>

      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="email">Email</label>
            <div class="invalid-feedback"
                 *ngIf="formAddAirdrop.get('email').invalid && formAddAirdrop.get('email').touched &&
                 formAddAirdrop.get('email')['errors']['email'] || formAddAirdrop.get('email').invalid && formInvalidaAfterSubmit">
              Invalid Email</div>
          </div>
          <input type="text" class="form-control" id="email" formControlName="email"
                 [ngClass]="{'is-invalid': formAddAirdrop.get('email').invalid && formAddAirdrop.get('email').touched || formAddAirdrop.get('email').invalid && formInvalidaAfterSubmit}">
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="whitePaperLink">Whitepaper link </label>
          </div>
          <input type="text" class="form-control" id="whitePaperLink" formControlName="whitePaperLink">
        </div>
      </div>

      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="assetId">Asset ID</label>
          </div>
          <input type="text" class="form-control" id="assetId" formControlName="assetId">
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="platform">Platform</label>
          </div>
          <input type="text" class="form-control" id="platform" formControlName="platform">
        </div>
      </div>

      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="requirements">Requirements</label>
          </div>
          <div class="requirements-items-wrapper">
            <tag-input [onlyFromAutocomplete]="true" [modelAsStrings]="true"
                       [placeholder]="'+ Add requirement'" [secondaryPlaceholder]="'+ Add requirement'"
                       id="requirements" formControlName="requirements">
              <tag-input-dropdown [showDropdownIfEmpty]="true"
                                  [dynamicUpdate]="true"
                                  [zIndex] = "1100"
                                  [appendToBody]="false"
                                  [autocompleteItems]="autocompleteRequirements">
              </tag-input-dropdown>
            </tag-input>
          </div>
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="website">Website</label>
          </div>
          <input type="text" class="form-control" id="website" placeholder="https://"
                 formControlName="website">
        </div>
      </div>
    </div>

    <div class="modal-body-item modal-body_subheader">
      <div class="form-group row">
        <div class="col-md-3">
          <div class="title">
            <label for="startDate">Start date</label>
            <div class="invalid-feedback"
                 *ngIf="formAddAirdrop.get('startDate').invalid && formAddAirdrop.get('startDate').touched &&
                 formAddAirdrop.get('startDate')['errors']['required'] || formAddAirdrop.get('startDate').invalid && formInvalidaAfterSubmit">
              Required</div>
          </div>
          <div class="container-input">
            <button type="button" class="btn-input left" (click)="dpStartDate.toggle()">
              <svg class="icon left icon_date" viewBox="0 0 20 20">
                <g id="Сalendar" transform="translate(-1108.7 609)">
                  <g id="Group_119" data-name="Group 119" transform="translate(1108.7 -609)">
                    <g id="Group_115" data-name="Group 115">
                      <path id="Path_187" data-name="Path 187" class="cls-1" d="M1125.46-607h-.76v-1a.99.99,0,0,0-1-1,.99.99,0,0,0-1,1v1h-8v-1a.99.99,0,0,0-1-1,.99.99,0,0,0-1,1v1h-.76a3.226,3.226,0,0,0-3.24,3.24v11.52a3.226,3.226,0,0,0,3.24,3.24h13.52a3.226,3.226,0,0,0,3.24-3.24v-11.52A3.252,3.252,0,0,0,1125.46-607Zm1.24,14.76a1.246,1.246,0,0,1-1.24,1.24h-13.52a1.246,1.246,0,0,1-1.24-1.24v-11.52a1.246,1.246,0,0,1,1.24-1.24h.76v1a.99.99,0,0,0,1,1,.99.99,0,0,0,1-1v-1h8v1a.99.99,0,0,0,1,1,.99.99,0,0,0,1-1v-1h.76a1.246,1.246,0,0,1,1.24,1.24Z" transform="translate(-1108.7 609)"/>
                    </g>
                    <g id="Group_116" data-name="Group 116" transform="translate(9 9.2)">
                      <circle id="Ellipse_6" data-name="Ellipse 6" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_117" data-name="Group 117" transform="translate(9 12.8)">
                      <circle id="Ellipse_7" data-name="Ellipse 7" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_118" data-name="Group 118" transform="translate(5.4 12.8)">
                      <circle id="Ellipse_8" data-name="Ellipse 8" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                  </g>
                  <g id="Group_122" data-name="Group 122" transform="translate(1121.3 -599.8)">
                    <g id="Group_120" data-name="Group 120">
                      <circle id="Ellipse_9" data-name="Ellipse 9" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_121" data-name="Group 121" transform="translate(0 3.6)">
                      <circle id="Ellipse_10" data-name="Ellipse 10" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                  </g>
                </g>
              </svg>
            </button>
            <input type="text" class="form-control" id="startDate" formControlName="startDate"
                   #dpStartDate="bsDatepicker" bsDatepicker [bsConfig]="bsConfig"
                   [bsValue]="startDate" value="{{startDate | date:'d MMMM y'}}"
                   [ngClass]="{'is-invalid': formAddAirdrop.get('startDate').invalid && formAddAirdrop.get('startDate').touched || formAddAirdrop.get('startDate').invalid && formInvalidaAfterSubmit}">
          </div>
        </div>
        <div class="col-md-3">
          <div class="title">
            <label for="endDate">End date</label>
          </div>
          <div class="container-input">
            <button class="btn-input left" type="button" (click)="dpEndTime.toggle();">
              <svg class="icon left icon_date" viewBox="0 0 20 20">
                <g id="Сalendar" transform="translate(-1108.7 609)">
                  <g id="Group_119" data-name="Group 119" transform="translate(1108.7 -609)">
                    <g id="Group_115" data-name="Group 115">
                      <path id="Path_187" data-name="Path 187" class="cls-1" d="M1125.46-607h-.76v-1a.99.99,0,0,0-1-1,.99.99,0,0,0-1,1v1h-8v-1a.99.99,0,0,0-1-1,.99.99,0,0,0-1,1v1h-.76a3.226,3.226,0,0,0-3.24,3.24v11.52a3.226,3.226,0,0,0,3.24,3.24h13.52a3.226,3.226,0,0,0,3.24-3.24v-11.52A3.252,3.252,0,0,0,1125.46-607Zm1.24,14.76a1.246,1.246,0,0,1-1.24,1.24h-13.52a1.246,1.246,0,0,1-1.24-1.24v-11.52a1.246,1.246,0,0,1,1.24-1.24h.76v1a.99.99,0,0,0,1,1,.99.99,0,0,0,1-1v-1h8v1a.99.99,0,0,0,1,1,.99.99,0,0,0,1-1v-1h.76a1.246,1.246,0,0,1,1.24,1.24Z" transform="translate(-1108.7 609)"/>
                    </g>
                    <g id="Group_116" data-name="Group 116" transform="translate(9 9.2)">
                      <circle id="Ellipse_6" data-name="Ellipse 6" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_117" data-name="Group 117" transform="translate(9 12.8)">
                      <circle id="Ellipse_7" data-name="Ellipse 7" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_118" data-name="Group 118" transform="translate(5.4 12.8)">
                      <circle id="Ellipse_8" data-name="Ellipse 8" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                  </g>
                  <g id="Group_122" data-name="Group 122" transform="translate(1121.3 -599.8)">
                    <g id="Group_120" data-name="Group 120">
                      <circle id="Ellipse_9" data-name="Ellipse 9" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                    <g id="Group_121" data-name="Group 121" transform="translate(0 3.6)">
                      <circle id="Ellipse_10" data-name="Ellipse 10" class="cls-1" cx="1" cy="1" r="1"/>
                    </g>
                  </g>
                </g>
              </svg>
            </button>
            <input type="text" class="form-control" id="endDate" formControlName="endDate"
                   #dpEndTime="bsDatepicker" bsDatepicker [bsConfig]="bsConfig">
          </div>
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="economyOfToken">Economy of the token</label>
          </div>
          <input type="text" class="form-control" id="economyOfToken" formControlName="economyOfToken">
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="totalValue">Total value</label>
          </div>
          <input type="text" class="form-control" id="totalValue" formControlName="totalValue">
        </div>
        <div class="col-md-6">
          <div class="title">
            <label for="tokensPerClaim">Tokens per Claim</label>
          </div>
          <input type="text" class="form-control" id="tokensPerClaim" formControlName="tokensPerClaim">
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="estimatedValue">Estimated value</label>
          </div>
          <input type="text" class="form-control" id="estimatedValue" formControlName="estimatedValue">
        </div>
      </div>
    </div>

    <div class="modal-body-item modal-body_middle">
      <div class="form-group">
        <div class="title">
          <label for="description">Description</label>
        </div>
        <textarea class="form-control" id="description" rows="4" formControlName="description"></textarea>
      </div>

      <div class="form-group">
        <div class="title">
          <label for="howToGetToken">How to get a token</label>
        </div>
        <div class="row htg-item htg-item_added" *ngFor="let htg of addedHTG; let idx = index;">
          <div class="col-md-1">
            <div class="htg-index">
              {{idx + 1}}
            </div>
          </div>
          <div class="col-md-11">
            <div class="container-input htg-input">
              <div class="btn-input right" (click)="removeAddedHTG(idx)">
                <svg class="icon right icon_delete" viewBox="0 0 17.536 17.536">
                  <g id="Plus" transform="translate(-805.387 112.314)">
                    <g id="Group_73" data-name="Group 73" transform="translate(816.7 -112.314) rotate(45)">
                      <path id="Path_88" data-name="Path 88" class="cls-1"
                            d="M815.9-108.2v6.4h-6.4a.792.792,0,0,0-.8.8h0a.792.792,0,0,0,.8.8h6.4v6.4a.792.792,0,0,0,.8.8h0a.792.792,0,0,0,.8-.8v-14.4a.792.792,0,0,0-.8-.8h0A.792.792,0,0,0,815.9-108.2Z"
                            transform="translate(-808.7 109)"/>
                      <path id="Path_89" data-name="Path 89" class="cls-1"
                            d="M844.98-84.9H840.5a.792.792,0,0,1-.8-.8h0a.792.792,0,0,1,.8-.8h4.48a.792.792,0,0,1,.8.8h0A.813.813,0,0,1,844.98-84.9Z"
                            transform="translate(-829.78 93.7)"/>
                    </g>
                  </g>
                </svg>
              </div>
              <div #htgInput contenteditable="false" type="text" class="form-control"
                   [popover]="popUrl" triggers="" [isOpen]="isOpenPopover[idx]"
                   (click)=" currentIdHTG=idx; selectedTextFunc();" [innerHtml]="htg">
              </div>
            </div>
          </div>
        </div>
        <div class="row htg-item">
          <div class="col-md-1">
            <div class="htg-index htg-index_white">
              {{addedHTG.length + 1}}
            </div>
          </div>
          <div class="col-md-11">
            <div class="container-input">
              <button class="btn-input right"
                      (click)="addHTG(addHTGIinput.value); addHTGIinput.value = '';">
                <svg class="icon right icon_plus" viewBox="0 0 16.984 16.952">
                  <g id="Close" transform="translate(-566.817 729.509) rotate(-45)">
                    <path id="Path_86" data-name="Path 86" class="cls-1" d="M942.034-75.666a.633.633,0,0,1-.916,0l-3.3-3.3-.472-.471a.633.633,0,0,1,0-.917h0a.633.633,0,0,1,.917,0l.471.471,3.3,3.3A.682.682,0,0,1,942.034-75.666Z" transform="translate(-19.56 -21.561)"/>
                    <path id="Path_87" data-name="Path 87" class="cls-1" d="M922.474-106.854a.633.633,0,0,0-.917,0l-4.871,4.871-4.871-4.871a.632.632,0,0,0-.471-.183.63.63,0,0,0-.471.183.633.633,0,0,0,0,.917l4.844,4.9-4.871,4.871a.633.633,0,0,0,0,.917.633.633,0,0,0,.917,0l10.685-10.684a.631.631,0,0,0,.183-.471A.66.66,0,0,0,922.474-106.854Z" transform="translate(0 -2)"/>
                  </g>
                </svg>
              </button>
              <input #addHTGIinput type="text" class="form-control" id="howToGetToken" formControlName="howToGetToken"
                     (keyup.enter)="addHTG(addHTGIinput.value); addHTGIinput.value = '';">
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-body-item modal-body_footer">
      <div class="form-group row">
        <div class="col-md-6">
          <div class="title">
            <label for="projectLinks">Project Links</label>
          </div>
          <div class="row project-links-item"
               *ngFor="let projectLink of addedProjectLinks; let idx = index;">
            <div class="col-md-2">
              <div class="htg-index htg-index_white">
                {{idx + 1}}
              </div>
            </div>
            <div class="col-md-10">
              <div class="container-input">
                <button class="btn-input right" (click)="removeAddedProjectLink(idx)">
                  <svg class="icon right" viewBox="0 0 17.536 17.536">
                    <g id="Plus" transform="translate(-805.387 112.314)">
                      <g id="Group_73" data-name="Group 73" transform="translate(816.7 -112.314) rotate(45)">
                        <path id="Path_88" data-name="Path 88" class="cls-1"
                              d="M815.9-108.2v6.4h-6.4a.792.792,0,0,0-.8.8h0a.792.792,0,0,0,.8.8h6.4v6.4a.792.792,0,0,0,.8.8h0a.792.792,0,0,0,.8-.8v-14.4a.792.792,0,0,0-.8-.8h0A.792.792,0,0,0,815.9-108.2Z"
                              transform="translate(-808.7 109)"/>
                        <path id="Path_89" data-name="Path 89" class="cls-1"
                              d="M844.98-84.9H840.5a.792.792,0,0,1-.8-.8h0a.792.792,0,0,1,.8-.8h4.48a.792.792,0,0,1,.8.8h0A.813.813,0,0,1,844.98-84.9Z"
                              transform="translate(-829.78 93.7)"/>
                      </g>
                    </g>
                  </svg>
                </button>
                <input type="text" class="form-control" disabled value="{{projectLink}}">
              </div>
            </div>
          </div>
          <div class="row project-links-item">
            <div class="col-md-12" *ngIf="isActiveAddLink">
              <div class="container-input">
                <button class="btn-input right"
                        (click)="addProjectLink(projectLinks.value); projectLinks.value = '';">
                  <svg class="icon right icon_plus" viewBox="0 0 16.984 16.952">
                    <g id="Close" transform="translate(-566.817 729.509) rotate(-45)">
                      <path id="Path_86" data-name="Path 86" class="cls-1" d="M942.034-75.666a.633.633,0,0,1-.916,0l-3.3-3.3-.472-.471a.633.633,0,0,1,0-.917h0a.633.633,0,0,1,.917,0l.471.471,3.3,3.3A.682.682,0,0,1,942.034-75.666Z" transform="translate(-19.56 -21.561)"/>
                      <path id="Path_87" data-name="Path 87" class="cls-1" d="M922.474-106.854a.633.633,0,0,0-.917,0l-4.871,4.871-4.871-4.871a.632.632,0,0,0-.471-.183.63.63,0,0,0-.471.183.633.633,0,0,0,0,.917l4.844,4.9-4.871,4.871a.633.633,0,0,0,0,.917.633.633,0,0,0,.917,0l10.685-10.684a.631.631,0,0,0,.183-.471A.66.66,0,0,0,922.474-106.854Z" transform="translate(0 -2)"/>
                    </g>
                  </svg>
                </button>
                <input #projectLinks type="text" class="form-control" id="projectLinks"
                       autofocus placeholder="https://" formControlName="projectLinks"
                       (keyup.enter)="addProjectLink(projectLinks.value); projectLinks.value = '';">
              </div>
            </div>

            <div class="col-md-12" *ngIf="!isActiveAddLink">
              <button class="project-links-btn btn-block" (click)="isActiveAddLink = !isActiveAddLink">+ Add Link
              </button>
            </div>
          </div>
        </div>

        <div class="col-md-6">
          <div class="title">
            <label for="commentBlock">Comment Block</label>
          </div>
          <textarea class="form-control" id="commentBlock" rows="3" formControlName="commentBlock"></textarea>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-12 text-center">
          <button class="btn_submit" type="submit" class="btn" (click)="onSubmitAddAirdrop()">Submit</button>
          <div class="title" style="justify-content: center; margin-top: 10px;">
            <div class="invalid-feedback" *ngIf="formInvalidaAfterSubmit">Сorrect all errors before sending data.</div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<ng-template #popUrl>
  <span class="text-popover">URL</span>
  <div class="container-input">
    <button class="btn-input right"
            (click)="stringToUrl(url.value)">
      <svg class="icon right icon_plus" viewBox="0 0 16.984 16.952">
        <g id="Close" transform="translate(-566.817 729.509) rotate(-45)">
          <path id="Path_86" data-name="Path 86" class="cls-1" d="M942.034-75.666a.633.633,0,0,1-.916,0l-3.3-3.3-.472-.471a.633.633,0,0,1,0-.917h0a.633.633,0,0,1,.917,0l.471.471,3.3,3.3A.682.682,0,0,1,942.034-75.666Z" transform="translate(-19.56 -21.561)"/>
          <path id="Path_87" data-name="Path 87" class="cls-1" d="M922.474-106.854a.633.633,0,0,0-.917,0l-4.871,4.871-4.871-4.871a.632.632,0,0,0-.471-.183.63.63,0,0,0-.471.183.633.633,0,0,0,0,.917l4.844,4.9-4.871,4.871a.633.633,0,0,0,0,.917.633.633,0,0,0,.917,0l10.685-10.684a.631.631,0,0,0,.183-.471A.66.66,0,0,0,922.474-106.854Z" transform="translate(0 -2)"/>
        </g>
      </svg>
    </button>
    <input #url type="text" class="form-control" autofocus>
  </div>
</ng-template>
