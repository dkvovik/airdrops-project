import { Injectable } from '@angular/core';
import { DomSanitizer } from '@angular/platform-browser';

@Injectable()
export class Globals {

  constructor(private sanitize: DomSanitizer) {
  }

  visitedAirdrop = JSON.parse(localStorage.getItem('visitedAirdrop')) || [];

  voitedRatingUp = JSON.parse(localStorage.getItem('voitedRatingUp')) || [];
  voitedRatingDown = JSON.parse(localStorage.getItem('voitedRatingDown')) || [];

  parseIconProjectLink(link, class1 = '', class2 = '') {
    let iconLink = '';

    link = link.split(/([a-zA-Z0-9-_]+\.\w+)[\/]/)[1];

    switch (link) {
      case 'twitter.com':
        iconLink =  `<svg viewBox="0 0 20.162 16.507" class="icon ${class1} ${class2}">
                    <g id="twitter" transform="translate(0 -0.94)">
                      <path id="XMLID_827_" class="cls-1" d="M19.7,30a7.643,7.643,0,0,1-.975.355,4.311,4.311,0,0,0,.878-1.543.325.325,0,0,0-.476-.379,7.674,7.674,0,0,1-2.268.9A4.33,4.33,0,0,0,9.5,32.425a4.415,4.415,0,0,0,.035.559,11.081,11.081,0,0,1-7.606-4.035.325.325,0,0,0-.533.042,4.334,4.334,0,0,0,.444,4.982,3.668,3.668,0,0,1-.579-.259.325.325,0,0,0-.483.277c0,.019,0,.038,0,.058A4.344,4.344,0,0,0,2.9,37.771c-.11-.011-.22-.027-.329-.048a.325.325,0,0,0-.371.419,4.327,4.327,0,0,0,3.171,2.9,7.657,7.657,0,0,1-4.093,1.168,7.835,7.835,0,0,1-.917-.054.325.325,0,0,0-.214.6A11.672,11.672,0,0,0,6.459,44.6a11.229,11.229,0,0,0,8.7-3.821,12.112,12.112,0,0,0,3.015-7.894c0-.119,0-.239-.005-.358a8.414,8.414,0,0,0,1.936-2.051A.325.325,0,0,0,19.7,30Z" transform="translate(0.002 -27.157)"/>
                    </g>
                  </svg>`;
        break;
      case 'facebook.com':
        iconLink = `<svg class="icon ${class1} ${class2}" viewBox="0 0 16.408 16.408">
          <g id="facebook-logo" class="cls-1">
            <path id="Facebook__x28_alt_x29_" class="cls-2" d="M16.408,2.735A2.834,2.834,0,0,0,13.673,0H2.735A2.834,2.834,0,0,0,0,2.735V13.673a2.834,2.834,0,0,0,2.735,2.735H8.2v-6.2H6.2V7.475H8.2V6.409a3.365,3.365,0,0,1,3.077-3.492h2.211V5.652H11.281c-.242,0-.524.294-.524.734V7.475h2.735v2.735H10.756v6.2h2.917a2.834,2.834,0,0,0,2.735-2.735Z" transform="translate(0 0)"/>
          </g>
        </svg>`;
        break;
      case 'google.com':
        iconLink = `<svg class="icon ${class1} ${class2}" viewBox="0 0 24.294 15.544">
          <path id="Path_966" data-name="Path 966" class="cls-1" d="M8.524,91.895h3.8a4.825,4.825,0,1,1-1.31-5.174.523.523,0,0,0,.711,0l1.394-1.312a.521.521,0,0,0,0-.758,7.743,7.743,0,0,0-5.189-2.128,7.772,7.772,0,1,0,7.6,8.208c.006-.051.01-1.784.01-1.784H8.524A.521.521,0,0,0,8,89.466v1.908A.521.521,0,0,0,8.524,91.895Z" transform="translate(0 -82.519)"/>
          <path id="Path_967" data-name="Path 967" class="cls-1" d="M328.663,165.529v-1.865a.456.456,0,0,0-.456-.456h-1.569a.456.456,0,0,0-.457.456v1.865h-1.865a.456.456,0,0,0-.456.456v1.569a.456.456,0,0,0,.456.456h1.865v1.865a.456.456,0,0,0,.457.456h1.569a.456.456,0,0,0,.456-.456v-1.865h1.865a.456.456,0,0,0,.456-.456v-1.569a.456.456,0,0,0-.456-.456Z" transform="translate(-306.691 -158.93)"/>
        </svg>`;
        break;
      case 'github.com':
        iconLink = `<svg viewBox="0 0 18.019 17.6" class="icon ${class1} ${class2}">
                      <path id="Path_342" data-name="Path 342" class="cls-1" d="M16.812,4.489a8.953,8.953,0,0,0-3.277-3.277A8.775,8.775,0,0,0,9.009,0,8.821,8.821,0,0,0,4.484,1.207,8.953,8.953,0,0,0,1.207,4.484,8.821,8.821,0,0,0,0,9.009a8.757,8.757,0,0,0,1.721,5.3,8.826,8.826,0,0,0,4.438,3.257.517.517,0,0,0,.467-.082.452.452,0,0,0,.154-.349c0-.026,0-.236-.005-.632s-.005-.745-.005-1.043L6.5,15.5a3.387,3.387,0,0,1-.652.041,5.117,5.117,0,0,1-.817-.082,1.864,1.864,0,0,1-.786-.349,1.482,1.482,0,0,1-.514-.719l-.118-.272a2.742,2.742,0,0,0-.37-.6,1.419,1.419,0,0,0-.509-.447l-.082-.057a.99.99,0,0,1-.154-.139.752.752,0,0,1-.108-.164c-.026-.057-.005-.1.057-.134a.746.746,0,0,1,.339-.051l.236.036a1.679,1.679,0,0,1,.58.283,1.862,1.862,0,0,1,.57.611,2.08,2.08,0,0,0,.652.735,1.362,1.362,0,0,0,.77.252,3.56,3.56,0,0,0,.668-.057,2.459,2.459,0,0,0,.529-.175,1.905,1.905,0,0,1,.575-1.207,8.062,8.062,0,0,1-1.2-.211,4.8,4.8,0,0,1-1.1-.457,3.155,3.155,0,0,1-.945-.786A3.738,3.738,0,0,1,3.5,10.324a5.891,5.891,0,0,1-.241-1.762,3.44,3.44,0,0,1,.925-2.419A3.163,3.163,0,0,1,4.263,3.75a1.636,1.636,0,0,1,1.007.159,7.258,7.258,0,0,1,.981.452c.205.123.375.231.5.318A8.264,8.264,0,0,1,9,4.376a8.468,8.468,0,0,1,2.255.3l.447-.283a6.217,6.217,0,0,1,1.079-.519,1.541,1.541,0,0,1,.95-.128,3.1,3.1,0,0,1,.092,2.394,3.422,3.422,0,0,1,.925,2.419,5.975,5.975,0,0,1-.241,1.767,3.641,3.641,0,0,1-.622,1.233,3.309,3.309,0,0,1-.95.781,4.712,4.712,0,0,1-1.1.457,8.062,8.062,0,0,1-1.2.211,2.1,2.1,0,0,1,.611,1.664v2.476a.466.466,0,0,0,.149.349.506.506,0,0,0,.462.082A8.831,8.831,0,0,0,16.3,14.326a8.757,8.757,0,0,0,1.721-5.3,8.809,8.809,0,0,0-1.207-4.541Zm0,0"/>
                    </svg>`;
        break;
      case 't.me':
        iconLink = `<svg viewBox="0 0 18.845 16.408" class="icon ${class1} ${class2}">
                      <path id="XMLID_497_" class="cls-1" d="M.333,27.268l4.342,1.621,1.681,5.405a.511.511,0,0,0,.812.244l2.421-1.973a.722.722,0,0,1,.88-.025l4.366,3.17a.512.512,0,0,0,.8-.309l3.2-15.384a.512.512,0,0,0-.685-.582L.328,26.311A.512.512,0,0,0,.333,27.268Zm5.752.758L14.572,22.8a.148.148,0,0,1,.178.234l-7,6.51a1.452,1.452,0,0,0-.45.869l-.239,1.768a.219.219,0,0,1-.428.031l-.918-3.224A.854.854,0,0,1,6.085,28.026Z" transform="translate(0 -19.401)"/>
                    </svg>`;
        break;
      case 'medium.com':
        iconLink = `<svg viewBox="0 0 19.793 16.745" class="icon ${class1} ${class2}">
                      <path id="medium" class="cls-1" d="M6.594,141.126v12.956a.786.786,0,0,1-.138.469.464.464,0,0,1-.4.193.806.806,0,0,1-.365-.088L.552,152.083a.939.939,0,0,1-.392-.37A.973.973,0,0,1,0,151.2V138.607a.629.629,0,0,1,.11-.376.369.369,0,0,1,.32-.155,1.273,1.273,0,0,1,.486.166l5.644,2.828A.091.091,0,0,1,6.594,141.126Zm.707,1.116,5.9,9.565-5.9-2.938Zm12.492.2v11.642a.642.642,0,0,1-.155.447.537.537,0,0,1-.42.171,1.043,1.043,0,0,1-.519-.144l-4.871-2.43Zm-.033-1.325q0,.033-2.833,4.634t-3.319,5.385l-4.308-7,3.579-5.821a.626.626,0,0,1,.574-.309.633.633,0,0,1,.287.066l5.976,2.982A.071.071,0,0,1,19.76,141.115Z" transform="translate(0 -138)"/>
                    </svg>`;
        break;
      case 'youtube.com':
        iconLink = `<svg viewBox="0 0 20.891 14.783" class="icon ${class1} ${class2}">
                      <path id="_001-youtube" data-name="001-youtube" class="cls-1" d="M16.553,67.393H4.339A4.339,4.339,0,0,0,0,71.732v6.106a4.339,4.339,0,0,0,4.339,4.339H16.553a4.339,4.339,0,0,0,4.339-4.339V71.732A4.339,4.339,0,0,0,16.553,67.393Zm-2.934,7.689L7.905,77.806a.229.229,0,0,1-.328-.207V71.98a.229.229,0,0,1,.333-.2l5.713,2.895A.229.229,0,0,1,13.618,75.082Z" transform="translate(0 -67.393)"/>
                    </svg>`;
        break;
    }

    return this.sanitize.bypassSecurityTrustHtml(iconLink);
  }

  parseIconRequirements(link, class1 = '', class2 = '') {
    let iconLink = '';

    switch (link) {
      case 'Twitter':
        iconLink =  `<svg viewBox="0 0 20.162 16.507" class="icon ${class1} ${class2}">
                    <g id="twitter" transform="translate(0 -0.94)">
                      <path id="XMLID_827_" class="cls-1" d="M19.7,30a7.643,7.643,0,0,1-.975.355,4.311,4.311,0,0,0,.878-1.543.325.325,0,0,0-.476-.379,7.674,7.674,0,0,1-2.268.9A4.33,4.33,0,0,0,9.5,32.425a4.415,4.415,0,0,0,.035.559,11.081,11.081,0,0,1-7.606-4.035.325.325,0,0,0-.533.042,4.334,4.334,0,0,0,.444,4.982,3.668,3.668,0,0,1-.579-.259.325.325,0,0,0-.483.277c0,.019,0,.038,0,.058A4.344,4.344,0,0,0,2.9,37.771c-.11-.011-.22-.027-.329-.048a.325.325,0,0,0-.371.419,4.327,4.327,0,0,0,3.171,2.9,7.657,7.657,0,0,1-4.093,1.168,7.835,7.835,0,0,1-.917-.054.325.325,0,0,0-.214.6A11.672,11.672,0,0,0,6.459,44.6a11.229,11.229,0,0,0,8.7-3.821,12.112,12.112,0,0,0,3.015-7.894c0-.119,0-.239-.005-.358a8.414,8.414,0,0,0,1.936-2.051A.325.325,0,0,0,19.7,30Z" transform="translate(0.002 -27.157)"/>
                    </g>
                  </svg>`;
        break;
      case 'Facebook':
        iconLink = `<svg viewBox="0 0 16.408 16.408" class="icon ${class1} ${class2}">
          <g id="facebook-logo" class="cls-1">
            <path id="Facebook__x28_alt_x29_" class="cls-2" d="M16.408,2.735A2.834,2.834,0,0,0,13.673,0H2.735A2.834,2.834,0,0,0,0,2.735V13.673a2.834,2.834,0,0,0,2.735,2.735H8.2v-6.2H6.2V7.475H8.2V6.409a3.365,3.365,0,0,1,3.077-3.492h2.211V5.652H11.281c-.242,0-.524.294-.524.734V7.475h2.735v2.735H10.756v6.2h2.917a2.834,2.834,0,0,0,2.735-2.735Z" transform="translate(0 0)"/>
          </g>
        </svg>`;
        break;
      case 'Google-Plus':
        iconLink = `<svg viewBox="0 0 24.294 15.544" class="icon ${class1} ${class2}">
          <path id="Path_966" data-name="Path 966" class="cls-1" d="M8.524,91.895h3.8a4.825,4.825,0,1,1-1.31-5.174.523.523,0,0,0,.711,0l1.394-1.312a.521.521,0,0,0,0-.758,7.743,7.743,0,0,0-5.189-2.128,7.772,7.772,0,1,0,7.6,8.208c.006-.051.01-1.784.01-1.784H8.524A.521.521,0,0,0,8,89.466v1.908A.521.521,0,0,0,8.524,91.895Z" transform="translate(0 -82.519)"/>
          <path id="Path_967" data-name="Path 967" class="cls-1" d="M328.663,165.529v-1.865a.456.456,0,0,0-.456-.456h-1.569a.456.456,0,0,0-.457.456v1.865h-1.865a.456.456,0,0,0-.456.456v1.569a.456.456,0,0,0,.456.456h1.865v1.865a.456.456,0,0,0,.457.456h1.569a.456.456,0,0,0,.456-.456v-1.865h1.865a.456.456,0,0,0,.456-.456v-1.569a.456.456,0,0,0-.456-.456Z" transform="translate(-306.691 -158.93)"/>
        </svg>`;
        break;
      case 'Github':
        iconLink = `<svg viewBox="0 0 18.019 17.6" class="icon ${class1} ${class2}">
                      <path id="Path_342" data-name="Path 342" class="cls-1" d="M16.812,4.489a8.953,8.953,0,0,0-3.277-3.277A8.775,8.775,0,0,0,9.009,0,8.821,8.821,0,0,0,4.484,1.207,8.953,8.953,0,0,0,1.207,4.484,8.821,8.821,0,0,0,0,9.009a8.757,8.757,0,0,0,1.721,5.3,8.826,8.826,0,0,0,4.438,3.257.517.517,0,0,0,.467-.082.452.452,0,0,0,.154-.349c0-.026,0-.236-.005-.632s-.005-.745-.005-1.043L6.5,15.5a3.387,3.387,0,0,1-.652.041,5.117,5.117,0,0,1-.817-.082,1.864,1.864,0,0,1-.786-.349,1.482,1.482,0,0,1-.514-.719l-.118-.272a2.742,2.742,0,0,0-.37-.6,1.419,1.419,0,0,0-.509-.447l-.082-.057a.99.99,0,0,1-.154-.139.752.752,0,0,1-.108-.164c-.026-.057-.005-.1.057-.134a.746.746,0,0,1,.339-.051l.236.036a1.679,1.679,0,0,1,.58.283,1.862,1.862,0,0,1,.57.611,2.08,2.08,0,0,0,.652.735,1.362,1.362,0,0,0,.77.252,3.56,3.56,0,0,0,.668-.057,2.459,2.459,0,0,0,.529-.175,1.905,1.905,0,0,1,.575-1.207,8.062,8.062,0,0,1-1.2-.211,4.8,4.8,0,0,1-1.1-.457,3.155,3.155,0,0,1-.945-.786A3.738,3.738,0,0,1,3.5,10.324a5.891,5.891,0,0,1-.241-1.762,3.44,3.44,0,0,1,.925-2.419A3.163,3.163,0,0,1,4.263,3.75a1.636,1.636,0,0,1,1.007.159,7.258,7.258,0,0,1,.981.452c.205.123.375.231.5.318A8.264,8.264,0,0,1,9,4.376a8.468,8.468,0,0,1,2.255.3l.447-.283a6.217,6.217,0,0,1,1.079-.519,1.541,1.541,0,0,1,.95-.128,3.1,3.1,0,0,1,.092,2.394,3.422,3.422,0,0,1,.925,2.419,5.975,5.975,0,0,1-.241,1.767,3.641,3.641,0,0,1-.622,1.233,3.309,3.309,0,0,1-.95.781,4.712,4.712,0,0,1-1.1.457,8.062,8.062,0,0,1-1.2.211,2.1,2.1,0,0,1,.611,1.664v2.476a.466.466,0,0,0,.149.349.506.506,0,0,0,.462.082A8.831,8.831,0,0,0,16.3,14.326a8.757,8.757,0,0,0,1.721-5.3,8.809,8.809,0,0,0-1.207-4.541Zm0,0"/>
                    </svg>`;
        break;
      case 'Telegram':
        iconLink = `<svg viewBox="0 0 18.845 16.408" class="icon ${class1} ${class2}">
                      <path id="XMLID_497_" class="cls-1" d="M.333,27.268l4.342,1.621,1.681,5.405a.511.511,0,0,0,.812.244l2.421-1.973a.722.722,0,0,1,.88-.025l4.366,3.17a.512.512,0,0,0,.8-.309l3.2-15.384a.512.512,0,0,0-.685-.582L.328,26.311A.512.512,0,0,0,.333,27.268Zm5.752.758L14.572,22.8a.148.148,0,0,1,.178.234l-7,6.51a1.452,1.452,0,0,0-.45.869l-.239,1.768a.219.219,0,0,1-.428.031l-.918-3.224A.854.854,0,0,1,6.085,28.026Z" transform="translate(0 -19.401)"/>
                    </svg>`;
        break;
      case 'Medium':
        iconLink = `<svg viewBox="0 0 19.793 16.745" class="icon ${class1} ${class2}">
                      <path id="medium" class="cls-1" d="M6.594,141.126v12.956a.786.786,0,0,1-.138.469.464.464,0,0,1-.4.193.806.806,0,0,1-.365-.088L.552,152.083a.939.939,0,0,1-.392-.37A.973.973,0,0,1,0,151.2V138.607a.629.629,0,0,1,.11-.376.369.369,0,0,1,.32-.155,1.273,1.273,0,0,1,.486.166l5.644,2.828A.091.091,0,0,1,6.594,141.126Zm.707,1.116,5.9,9.565-5.9-2.938Zm12.492.2v11.642a.642.642,0,0,1-.155.447.537.537,0,0,1-.42.171,1.043,1.043,0,0,1-.519-.144l-4.871-2.43Zm-.033-1.325q0,.033-2.833,4.634t-3.319,5.385l-4.308-7,3.579-5.821a.626.626,0,0,1,.574-.309.633.633,0,0,1,.287.066l5.976,2.982A.071.071,0,0,1,19.76,141.115Z" transform="translate(0 -138)"/>
                    </svg>`;
        break;
      case 'Youtube':
        iconLink = `<svg viewBox="0 0 20.891 14.783" class="icon ${class1} ${class2}">
                      <path id="_001-youtube" data-name="001-youtube" class="cls-1" d="M16.553,67.393H4.339A4.339,4.339,0,0,0,0,71.732v6.106a4.339,4.339,0,0,0,4.339,4.339H16.553a4.339,4.339,0,0,0,4.339-4.339V71.732A4.339,4.339,0,0,0,16.553,67.393Zm-2.934,7.689L7.905,77.806a.229.229,0,0,1-.328-.207V71.98a.229.229,0,0,1,.333-.2l5.713,2.895A.229.229,0,0,1,13.618,75.082Z" transform="translate(0 -67.393)"/>
                    </svg>`;
        break;
      case 'Email':
        iconLink = `<svg viewBox="0 0 20.147 14.576" class="icon ${class1} ${class2}">
                      <g id="message-envelope" class="cls-1" transform="translate(0 -1)">
                        <g id="Group_129" data-name="Group 129" transform="translate(0 1)">
                          <path id="Path_202" data-name="Path 202" class="cls-2" d="M0,60.58v.728l10.074,7.787,10.074-7.787V60.58Z" transform="translate(0 -60.58)"/>
                          <path id="Path_203" data-name="Path 203" class="cls-2" d="M10.074,103.221,4.14,98.59,0,95.39v12.341H20.147V95.39l-4.14,3.2Z" transform="translate(0 -93.155)"/>
                        </g>
                      </g>
                    </svg>`;
        break;
      case 'KYC':
        iconLink = `<svg viewBox="0 0 15.06 15.06">
                      <path id="Path_1006" data-name="Path 1006" class="cls-1" d="M13.53,7a3.765,3.765,0,1,1-3.765,3.765A3.76,3.76,0,0,1,13.53,7Zm7.53,15.06H6V20.3c0-2.51,5.02-3.89,7.53-3.89s7.53,1.38,7.53,3.89Z" transform="translate(-6 -7)"/>
                    </svg>`;
        break;
    }

    return this.sanitize.bypassSecurityTrustHtml(iconLink);
  }

  camelize(str) {
    return str.replace(/(?:^\w|[A-Z]|\b\w)/g, function(letter, index) {
      return index == 0 ? letter.toLowerCase() : letter.toUpperCase();
    }).replace(/\s+/g, '');
  }

}
